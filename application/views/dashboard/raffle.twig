{% extends 'dashboard/layout.twig' %}

{% block content %}
    <div class="col-lg-12">
        {% if message is not empty %}
        <div class="alert alert-info"><i class="fa fa-fw fa-exclamation-triangle"></i> {{ message[0]|trans }}</div>
        {% endif %}
    
        <h1>Raffles</h1>
    </div>
    <div class="col-lg-3">
        {% include 'dashboard/includes/admin.sidebar.twig' %}
    </div>
    <div class="col-lg-9">
    <button class="btn btn-success btn-sm" data-toggle="modal" data-target="#raffleModal"><i class="fa fa-fw fa-plus"></i> New Raffle</button>
    <br/><br/>
    
    {% if raffles|length > 0 %}
        <table class="table table-bordered table-hover table-condensed">
            <thead>
                <tr>
                    <th>Title</th>
                    <th>Start - End Date</th>
                    <th>Winners</th>
                    <th>Consolations</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
            {% for raffle in raffles %}
                <tr>
                    <td>{{ raffle.getRaffleTitle }}</td>
                    <td>{{ raffle.getStartDate|date('Y-m-d') }} - {{ raffle.getEndDate|date('Y-m-d') }}</td>
                    <td>{{ raffle.getWinners|number_format }} persons</td>
                    <td>{{ raffle.getConsolations|number_format }} persons</td>
                    <td class="actions-btn">
                        <div class="btn-group" role="group" aria-label="...">
                          <a href="#" class="btn btn-danger btn-xs"><i class="fa fa-fw fa-trash-o"></i></a>
                          <a href="#" class="btn btn-info btn-xs"><i class="fa fa-fw fa-pencil"></i></a>
                        </div>
                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    {% else %}
        <div class="alert alert-warning"><i class="fa fa-fw fa-exclamation-triangle"></i> No records yet.</div>
    {% endif %}
    </div>
    
    {% include 'dashboard/includes/modal.raffle.twig' %}
{% endblock %}

{% block scripts %}
    <script src="{{ baseUrl }}js/jq.admin.functions.js"></script>
{% endblock %}